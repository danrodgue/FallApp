# Convenciones de Idioma - FallApp

> **Documento**: CONV-IDIOMA  
> **Versi√≥n**: 1.0  
> **Fecha**: 2026-02-01  
> **Prop√≥sito**: Establecer el uso del espa√±ol en el proyecto

---

## üåç Idioma del Proyecto: ESPA√ëOL

### Motivaci√≥n

FallApp es un proyecto:
- Desarrollado en Valencia, Espa√±a
- Por un equipo hispanohablante
- Para un contexto cultural espa√±ol (fallas valencianas)

**Por tanto, usamos ESPA√ëOL en toda la comunicaci√≥n y documentaci√≥n del proyecto.**

---

## üìù Reglas de Uso del Idioma

### 1. Comentarios en C√≥digo: ESPA√ëOL

**‚úÖ CORRECTO**:
```java
// Verifica si el usuario tiene permisos para editar la falla
if (!usuarioService.tienePermiso(usuario, falla)) {
    throw new PermisosDenegadosException("El usuario no puede editar esta falla");
}
```

**‚ùå INCORRECTO**:
```java
// Check if user has permissions to edit the falla
if (!usuarioService.tienePermiso(usuario, falla)) {
    throw new PermisosDenegadosException("User cannot edit this falla");
}
```

### 2. Mensajes de Commit: ESPA√ëOL

**‚úÖ CORRECTO**:
```bash
git commit -m "feat: a√±adir endpoint para crear eventos"
git commit -m "fix: corregir validaci√≥n de fechas en eventos"
git commit -m "docs: actualizar especificaci√≥n de votaciones"
```

**‚ùå INCORRECTO**:
```bash
git commit -m "feat: add endpoint to create events"
git commit -m "fix: correct date validation in events"
```

#### Convenci√≥n de Commits

Usamos [Conventional Commits](https://www.conventionalcommits.org/) en espa√±ol:

```
<tipo>(<√°mbito>): <descripci√≥n>

[cuerpo opcional]

[pie opcional]
```

**Tipos permitidos**:
- `feat`: Nueva funcionalidad
- `fix`: Correcci√≥n de bug
- `docs`: Cambios en documentaci√≥n
- `style`: Formato, espacios, etc. (sin cambios de c√≥digo)
- `refactor`: Refactorizaci√≥n de c√≥digo
- `test`: A√±adir o modificar pruebas
- `chore`: Tareas de mantenimiento

**Ejemplos**:
```bash
feat(fallas): a√±adir b√∫squeda por nombre y direcci√≥n
fix(auth): corregir validaci√≥n de token JWT expirado
docs(readme): actualizar instrucciones de instalaci√≥n
refactor(eventos): simplificar l√≥gica de creaci√≥n
test(votos): a√±adir pruebas de votaci√≥n duplicada
```

### 3. Nombres de Ramas: ESPA√ëOL

**‚úÖ CORRECTO**:
```bash
feature/sistema-votaciones
feature/mapa-interactivo
bugfix/corregir-autenticacion
hotfix/error-critico-login
refactor/estructura-con-prefijos-numericos
docs/especificacion-eventos
```

**‚ùå INCORRECTO**:
```bash
feature/voting-system
feature/interactive-map
bugfix/fix-authentication
```

#### Convenci√≥n de Ramas

```
<tipo>/<descripcion-en-kebab-case>
```

**Tipos**:
- `feature/` - Nueva funcionalidad
- `bugfix/` - Correcci√≥n de bug no cr√≠tico
- `hotfix/` - Correcci√≥n de bug cr√≠tico
- `refactor/` - Refactorizaci√≥n
- `docs/` - Documentaci√≥n
- `test/` - Pruebas
- `chore/` - Mantenimiento

### 4. Pull Requests: ESPA√ëOL

**T√≠tulo**: Breve descripci√≥n en espa√±ol
```
Implementar sistema de votaci√≥n de ninots
Corregir error en autenticaci√≥n JWT
```

**Descripci√≥n**: Template en espa√±ol
```markdown
## Descripci√≥n
¬øQu√© cambios introduce este PR?

## Tipo de cambio
- [ ] Nueva funcionalidad
- [ ] Correcci√≥n de bug
- [ ] Refactorizaci√≥n
- [ ] Documentaci√≥n

## ¬øC√≥mo se ha probado?
Describe las pruebas realizadas

## Checklist
- [ ] El c√≥digo compila sin errores
- [ ] Las pruebas pasan
- [ ] He actualizado la documentaci√≥n
- [ ] He seguido las convenciones del proyecto
```

### 5. Issues: ESPA√ëOL

**T√≠tulo**: Descripci√≥n clara en espa√±ol
```
Error al crear evento sin fecha
A√±adir validaci√≥n de coordenadas en fallas
```

**Cuerpo**: Plantilla en espa√±ol
```markdown
## Descripci√≥n del problema
¬øQu√© est√° fallando o qu√© se necesita?

## Pasos para reproducir
1. Ir a...
2. Hacer clic en...
3. Observar error

## Comportamiento esperado
¬øQu√© deber√≠a pasar?

## Comportamiento actual
¬øQu√© pasa en realidad?

## Contexto adicional
Capturas de pantalla, logs, etc.
```

### 6. Documentaci√≥n: ESPA√ëOL

Toda la documentaci√≥n t√©cnica est√° en espa√±ol:
- READMEs
- Especificaciones
- Gu√≠as
- Comentarios en c√≥digo
- Diagramas (textos en espa√±ol)

### 7. Logs y Mensajes de Error: ESPA√ëOL

**‚úÖ CORRECTO**:
```java
log.info("Iniciando creaci√≥n de falla: nombre={}", nombre);
log.error("Error al crear falla: {}", e.getMessage());
throw new FallaNoEncontradaException("Falla con ID " + id + " no existe");
```

**‚ùå INCORRECTO**:
```java
log.info("Starting falla creation: name={}", nombre);
log.error("Error creating falla: {}", e.getMessage());
```

### 8. Variables y Funciones: Puede ser ingl√©s t√©cnico

El c√≥digo en s√≠ puede usar t√©rminos t√©cnicos en ingl√©s cuando sea est√°ndar:

**‚úÖ ACEPTABLE**:
```java
public class FallaController {
    private final FallaService fallaService;
    
    @GetMapping("/api/fallas")
    public ResponseEntity<List<FallaDTO>> getAllFallas() {
        // ...
    }
}
```

**Pero los comentarios, logs y excepciones en ESPA√ëOL**:
```java
// Obtener todas las fallas activas del sistema
log.info("Obteniendo lista de fallas activas");
List<FallaDTO> fallas = fallaService.obtenerFallasActivas();
```

---

## üö´ Excepciones

### Casos donde se usa ingl√©s:

1. **C√≥digo y nombres t√©cnicos est√°ndar**:
   - Clases de Spring: `@RestController`, `@Service`
   - M√©todos CRUD: `findAll()`, `save()`, `delete()`
   - Convenciones de frameworks

2. **Dependencias y librer√≠as externas**:
   - Configuraci√≥n de librer√≠as en ingl√©s (es el est√°ndar)

3. **URLs y endpoints REST**:
   ```
   GET /api/fallas
   POST /api/eventos
   ```
   (Aunque las entidades pueden estar en espa√±ol: `fallas`, `eventos`)

---

## üìö Recursos

### Glosario de T√©rminos T√©cnicos

Para mantener consistencia, usamos estos t√©rminos:

| Ingl√©s | Espa√±ol |
|--------|---------|
| User | Usuario |
| Role | Rol |
| Permission | Permiso |
| Event | Evento |
| Vote | Voto |
| Authentication | Autenticaci√≥n |
| Authorization | Autorizaci√≥n |
| Login | Inicio de sesi√≥n / Login (ambos aceptables) |
| Logout | Cierre de sesi√≥n / Logout (ambos aceptables) |
| Token | Token (se mantiene) |
| Endpoint | Endpoint (se mantiene) |
| API | API (se mantiene) |
| Bug | Bug / Error (ambos aceptables) |
| Feature | Funcionalidad / Feature (ambos aceptables) |
| Issue | Problema / Issue (ambos aceptables) |

---

## ‚úÖ Checklist de Idioma

Antes de hacer commit, verifica:

- [ ] Comentarios en espa√±ol
- [ ] Mensajes de log en espa√±ol
- [ ] Mensajes de excepciones en espa√±ol
- [ ] Mensaje de commit en espa√±ol con formato conventional commits
- [ ] Nombre de rama en espa√±ol
- [ ] Documentaci√≥n actualizada en espa√±ol

---

## üéì Razones Pedag√≥gicas

Este proyecto es acad√©mico y usar espa√±ol:

1. **Facilita la comunicaci√≥n** entre el equipo
2. **Mejora la comprensi√≥n** para estudiantes
3. **Reduce barreras** de idioma en documentaci√≥n
4. **Refleja el contexto** cultural del proyecto
5. **Es profesional**: En Espa√±a, muchos proyectos internos se documentan en espa√±ol

---

## üåü Ejemplo Completo

```java
/**
 * Controlador REST para la gesti√≥n de fallas.
 * 
 * Proporciona endpoints para crear, listar, actualizar y eliminar fallas.
 * Solo usuarios con rol ADMIN o CASAL pueden modificar fallas.
 * 
 * @author Equipo FallApp
 * @version 1.0
 */
@RestController
@RequestMapping("/api/fallas")
public class FallaController {
    
    private static final Logger log = LoggerFactory.getLogger(FallaController.class);
    
    private final FallaService fallaService;
    
    /**
     * Obtiene todas las fallas activas del sistema.
     * 
     * @return lista de fallas en formato DTO
     */
    @GetMapping
    public ResponseEntity<List<FallaDTO>> obtenerFallas() {
        log.info("Solicitando listado de todas las fallas");
        
        try {
            List<FallaDTO> fallas = fallaService.obtenerTodasLasFallas();
            log.info("Se encontraron {} fallas", fallas.size());
            return ResponseEntity.ok(fallas);
            
        } catch (Exception e) {
            log.error("Error al obtener las fallas: {}", e.getMessage());
            throw new ErrorInternoException("No se pudieron obtener las fallas");
        }
    }
}
```

**Commit asociado**:
```bash
git add FallaController.java
git commit -m "feat(fallas): a√±adir endpoint para listar todas las fallas"
```

**Rama**:
```bash
git checkout -b feature/listado-fallas
```

---

> üí° **Recuerda**: C√≥digo en espa√±ol = equipo m√°s productivo y documentaci√≥n m√°s accesible

---

**√öltima actualizaci√≥n**: 2026-02-01
